CREATE TABLE `rentable`.`companies` (
  `Company_ID` INT NOT NULL AUTO_INCREMENT,
  `Company_Name` VARCHAR(45) NOT NULL,
  `Address_1` VARCHAR(45) NULL,
  `Address_2` VARCHAR(45) NULL,
  `City` VARCHAR(45) NULL,
  `State` VARCHAR(45) NULL,
  `Zip` VARCHAR(45) NULL,
  `Country` VARCHAR(45) NULL,
  `Phone` VARCHAR(45) NULL,
  `Fax` VARCHAR(45) NULL,
  `Website` VARCHAR(45) NULL,
  `Sales_Tax_Rate` FLOAT(11) NULL,
  `Local_Timezone` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Company_ID`),
  UNIQUE INDEX `Company_ID_UNIQUE` (`Company_ID` ASC));


CREATE TABLE `rentable`.`customers` (
  `Customer_ID` INT NOT NULL AUTO_INCREMENT,
  `First_Name` VARCHAR(45) NULL,
  `Last_Name` VARCHAR(45) NULL,
  `Billing_Address_1` VARCHAR(45) NULL,
  `Billing_Address_2` VARCHAR(45) NULL,
  `Billing_City` VARCHAR(45) NULL,
  `Billing_State` VARCHAR(45) NULL,
  `Billing_Zip` VARCHAR(45) NULL,
  `Billing_Country` VARCHAR(45) NULL,
  `Delivery_Address_1` VARCHAR(45) NULL,
  `Delivery_Address_2` VARCHAR(45) NULL,
  `Delivery_City` VARCHAR(45) NULL,
  `Delivery_State` VARCHAR(45) NULL,
  `Delivery_Zip` VARCHAR(45) NULL,
  `Delivery_Country` VARCHAR(45) NULL,
  `Phone_1` VARCHAR(45) NULL,
  `Phone_2` VARCHAR(45) NULL,
  `Notes` VARCHAR(255) NULL,
  PRIMARY KEY (`Customer_ID`),
  UNIQUE INDEX `Customer_ID_UNIQUE` (`Customer_ID` ASC));

ALTER TABLE `rentable`.`customers` 
ADD COLUMN `Company_ID` INT(11) NOT NULL AFTER `Notes`,
ADD COLUMN `User_ID` INT(11) NOT NULL AFTER `Company_ID`
CHANGE COLUMN `Last_Name` `Last_Name` VARCHAR(45) NOT NULL ;

ALTER TABLE `rentable`.`customers` 
ADD COLUMN `Active` TINYINT(1) NOT NULL AFTER `User_ID`;


CREATE TABLE `rentable`.`vendors` (
  `Vendor_ID` INT NOT NULL AUTO_INCREMENT,
  `Vendor_Name` VARCHAR(45) NULL,
  `Vendor_Address_1` VARCHAR(45) NULL,
  `Vendor_Address_2` VARCHAR(45) NULL,
  `Vendor_City` VARCHAR(45) NULL,
  `Vendor_State` VARCHAR(45) NULL,
  `Vendor_Zip` VARCHAR(45) NULL,
  `Vendor_Country` VARCHAR(45) NULL,
  `Phone` VARCHAR(45) NULL,
  `Fax` VARCHAR(45) NULL,
  `Website` VARCHAR(45) NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Active` TINYINT(1) NULL,
  `Vendor_Notes` TEXT NULL,
  PRIMARY KEY (`Vendor_ID`),
  UNIQUE INDEX `Vendor_ID_UNIQUE` (`Vendor_ID` ASC));


CREATE TABLE `rentable`.`item_categories` (
  `Item_Category_ID` INT NOT NULL AUTO_INCREMENT,
  `Name` VARCHAR(45) NOT NULL,
  `Description` VARCHAR(45) NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Active` TINYINT(1) NULL,
  PRIMARY KEY (`Item_Category_ID`),
  UNIQUE INDEX `Item_Category_ID_UNIQUE` (`Item_Category_ID` ASC));

CREATE TABLE `rentable`.`items` (
  `Item_ID` INT NOT NULL AUTO_INCREMENT,
  `Item_Category_ID` INT(11) NULL,
  `Vendor_ID` INT(11) NULL,
  `Item_Name` VARCHAR(45) NOT NULL,
  `Part_Number` VARCHAR(45) NOT NULL,
  `Sale_Price` FLOAT(7,2) NULL,
  `Vendor_Cost` FLOAT(7,2) NULL,
  `Track_Inventory` TINYINT(1) NOT NULL,
  `Quantity_In_Stock` INT NULL,
  `Reorder_Point` INT(7) NULL,
  `Item_Tax_Reason_ID` INT(11) NOT NULL,
  `Company_ID` VARCHAR(45) NOT NULL,
  `User_ID` VARCHAR(45) NOT NULL,
  `Active` TINYINT(1) NULL,
  `Item_TimeStamp` DATETIME NULL,
  `Item_Notes` VARCHAR(255) NULL,
  `Item_Attribute` VARCHAR(20) NULL,
  `Item_Size` VARCHAR(20) NULL,
  `Item_Weight` VARCHAR(12) NULL;
  PRIMARY KEY (`Item_ID`),
  UNIQUE INDEX `Item_ID_UNIQUE` (`Item_ID` ASC));

CREATE TABLE `rentable`.`serialized_items` (
  `Serial_Item_ID` INT(11) NOT NULL,
  `Item_ID` INT(11) NOT NULL,
  `Item_Status_ID` INT(11) NOT NULL,
  `Serial_Number` VARCHAR(45) NOT NULL,
  `Date_Sold` DATE NULL,
  `Date_Lost` DATE NULL,
  `Date_Destroyed` DATE NULL,
  `Company_ID` VARCHAR(45) NOT NULL,
  `User_ID` VARCHAR(45) NOT NULL,
  `Serial_Item_Timestamp` DATETIME NOT NULL,
  PRIMARY KEY (`Serial_Item_ID`),
  UNIQUE INDEX `Serial_Item_ID_UNIQUE` (`Serial_Item_ID` ASC));

CREATE TABLE `rentable`.`lotted_items` (
  `Lotted_Item_ID` int(11) NOT NULL,
  `Item_ID` int(11) NOT NULL,
  `Lot_Number` varchar(45) NOT NULL,
  `Quantity_In_Stock` INT DEFAULT NULL,
  `Purchase_Order_ID` int(11) NULL,
  `Company_ID` varchar(45) NOT NULL,
  `User_ID` varchar(45) NOT NULL,
  `Lotted_Item_Timestamp` datetime NOT NULL,
  PRIMARY KEY (`Lotted_Item_ID`),
  UNIQUE KEY `Lotted_Item_ID_UNIQUE` (`Lotted_Item_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `rentable`.`rental_items` (
  `Rental_Item_ID` int(11) NOT NULL,
  `Item_ID` int(11) NOT NULL,
  `Item_Status_ID` INT(11) NOT NULL,
  `Serial_Item_ID` int(11) DEFAULT NULL,
  `Tracking_Number` varchar(45) NOT NULL,
  `Acquisition_Cost` float(7,2) NOT NULL,
  `Date_Sold` DATE NULL,
  `Date_Lost` DATE NULL,
  `Date_Destroyed` DATE NULL,
  `Company_ID` varchar(45) NOT NULL,
  `User_ID` varchar(45) NOT NULL,
  `Rental_Item_Timestamp` datetime NOT NULL,
  PRIMARY KEY (`Rental_Item_ID`),
  UNIQUE KEY `Rental_Item_ID_UNIQUE` (`Rental_Item_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `rentable`.`sales_orders` (
  `SO_ID` INT NOT NULL AUTO_INCREMENT,
  `Customer_ID` INT NOT NULL,
  `User_Input_Order_Date` DATE NOT NULL,
  `User_Input_Delivery_Date` DATE NOT NULL,
  `SO_Status` VARCHAR(45) NOT NULL,
  `Subtotal_Amount` FLOAT(7,2) NOT NULL,
  `Tax_Amount` FLOAT(7,2) NOT NULL,
  `Total_Amount` FLOAT(7,2) NOT NULL,
  `Total_Taxable` FLOAT(7,2) NOT NULL,
  `Total_NonTaxable` FLOAT(7,2) NOT NULL,
  `SO_Notes` TEXT NULL,
  `SO_TimeStamp` DATETIME NOT NULL,
  `User_ID` INT NOT NULL,
  `Company_ID` INT NOT NULL,
  PRIMARY KEY (`SO_ID`),
  UNIQUE INDEX `SO_ID_UNIQUE` (`SO_ID` ASC));

CREATE TABLE `rentable`.`sales_order_items` (
  `SO_Item_ID` INT NOT NULL AUTO_INCREMENT,
  `SO_ID` INT NOT NULL,
  `Item_ID` INT NOT NULL,
  `SO_Item_Quantity` INT(11) NOT NULL,
  `SO_Item_Amount` FLOAT(7,2) NOT NULL,
  `SO_Item_Tax` FLOAT(7,2) NOT NULL,
  `SO_Item_Notes` TEXT NULL,
  `SO_Item_TimeStamp` DATETIME NOT NULL,
  `User_ID` INT NOT NULL,
  `Company_ID` INT NOT NULL,
  PRIMARY KEY (`SO_Item_ID`),
  UNIQUE INDEX `SO_Item_ID` (`SO_Item_ID` ASC));


ALTER TABLE `rentable`.`users` 
ADD COLUMN `Company_ID` INT(11) NOT NULL AFTER `phone`;


CREATE TABLE `rentable`.`item_status` (
  `Item_Status_ID` INT NOT NULL AUTO_INCREMENT,
  `Status_Name` VARCHAR(45) NOT NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Item_Status_Timestamp` DATETIME NOT NULL
  PRIMARY KEY (`Item_Status_ID`));
  UNIQUE INDEX `Item_Status_ID_UNIQUE` (`Item_Status_ID` ASC);

CREATE TABLE `rentable`.`item_tax_reasons` (
  `Item_Tax_Reason_ID` INT(11) NOT NULL AUTO_INCREMENT,
  `Reason_Title` VARCHAR(18) NOT NULL,
  `Reason_Description` VARCHAR(100) NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Item_Tax_Reason_Timestamp` DATETIME NOT NULL,
  PRIMARY KEY (`Item_Tax_Reason_ID`),
  UNIQUE INDEX `Item_Tax_Reason_ID_UNIQUE` (`Item_Tax_Reason_ID` ASC));

  CREATE TABLE `rentable`.`item_unit_names` (
  `Item_Unit_Name_ID` INT(11) NOT NULL AUTO_INCREMENT,
  `Unit_Name` VARCHAR(12) NOT NULL,
  `Unit_Abbreviation` VARCHAR(2) NOT NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Item_Unit_Timestamp` DATETIME NOT NULL,
  PRIMARY KEY (`Item_Unit_Name_ID`),
  UNIQUE INDEX `Item_Unit_Name_ID_UNIQUE` (`Item_Unit_Name_ID` ASC));

CREATE TABLE `rentable`.`item_unit_conversions` (
  `Item_Unit_Conversion_ID` INT(11) NOT NULL AUTO_INCREMENT,
  `Item_ID` INT(11) NOT NULL,
  `Base_Item_Unit_Name_ID` INT(11) NOT NULL COMMENT 'References the item_unit_names table',
  `Expanded_Item_Unit_Name_ID` INT(11) NOT NULL COMMENT 'References the item_unit_names table',
  `Multiplier` INT(7) NOT NULL,
  `Company_ID` INT(11) NOT NULL,
  `User_ID` INT(11) NOT NULL,
  `Item_Unit_Conversion_Timestamp` DATETIME NOT NULL,
  PRIMARY KEY (`Item_Unit_Conversion_ID`),
  UNIQUE INDEX `Item_Unit_Conversion_ID_UNIQUE` (`Item_Unit_Conversion_ID` ASC));
